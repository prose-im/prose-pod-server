# HG changeset patch
# User RÃ©mi Bardon <remi@remibardon.name>
# Date 1758196583 -25200
#      Thu Sep 18 18:56:23 2025 +0700
# Node ID 7012919c5cce2017b5ea4e79a960f19dbee4a88f
# Parent  2dbabab46969977b2afed837b16f7a96c4becbe8
mod_http_admin_api: Allow choosing a group ID on creation

Adds an `id` field to `POST /groups`, forwarded to `mod_groups.create` which already supported this.

diff -r 2dbabab46969 -r 7012919c5cce mod_http_admin_api/mod_http_admin_api.lua
--- a/mod_http_admin_api/mod_http_admin_api.lua	Thu Sep 18 18:54:15 2025 +0700
+++ b/mod_http_admin_api/mod_http_admin_api.lua	Thu Sep 18 18:56:23 2025 +0700
@@ -610,7 +610,8 @@
 		{
 			name = group.name;
 		},
-		create_muc
+		create_muc,
+		group.id
 	);
 	if not group_id then
 		return 500;
diff -r 2dbabab46969 -r 7012919c5cce mod_http_admin_api/openapi.yaml
--- a/mod_http_admin_api/openapi.yaml	Thu Sep 18 18:54:15 2025 +0700
+++ b/mod_http_admin_api/openapi.yaml	Thu Sep 18 18:56:23 2025 +0700
@@ -652,6 +652,10 @@
         create_muc:
           type: boolean
           description: Create a MUC associated with the group
+        id:
+          type: string
+          description: Predefined group ID
+          nullable: true
     Group:
       type: object
       properties:
